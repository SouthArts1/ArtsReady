<%= simple_form_for [:admin, @organization, @payment] do |f| %>
  <% subscription = @organization.subscription %>

  <%= f.input :paid_at_date, input_html: {class: 'datepicker', placeholder: 'MM/DD/YY'} %>
  <%= f.input :paid_at_time %>
  <%= f.association :discount_code, label_method: :discount_code %>
  <%= f.input :amount %>
  <%= f.input :transaction_id %>
  <%= f.input :account_type, as: :grouped_select,
        collection: Payment::ACCOUNT_TYPES,
        group_method: :last
  %>

  <%= f.input :account_number %>
  <%= f.input :routing_number %>
  <%= f.input :check_number %>

  <%= f.input :notes %>

  <% if subscription && f.object.new_record? %>
    <% extended_subscription_date = subscription.next_billing_date + 365 %>
    <%= f.input :extend_subscription, as: :boolean,
      label: "Extend subscription to #{extended_subscription_date.to_s(:long)}?"
    %>
  <% end %>

  <%= f.submit 'Save' %>
<% end %>
